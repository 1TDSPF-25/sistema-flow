import{r,u as x,j as e,L as u,C as p}from"./index-Be1sNS22.js";function b(){const[a,n]=r.useState([]),c="012",d=x(),s=new URLSearchParams(d.search).get("search")?.toLowerCase()||"";r.useEffect(()=>{document.title="Produtos"},[]),r.useEffect(()=>{(async()=>{const i=await(await fetch("http://localhost:3001/produtos")).json();if(s){const h=i.filter(m=>m.nome.toLowerCase().includes(s));n(h)}else n(i);document.title="FarmáciaPlus - Produtos"})()},[s]);const l=async t=>{try{if(!(await fetch("http://localhost:3001/carrinho",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuarioId:c,produtoId:t})})).ok)throw new Error("Erro ao adicionar ao carrinho");alert("✅ Produto adicionado ao carrinho!")}catch(o){console.error(o),alert("❌ Erro ao adicionar ao carrinho.")}};return e.jsxs("main",{className:"p-4 sm:p-6 md:p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Produtos"}),a.length===0?e.jsx("p",{className:"text-gray-600",children:"Nenhum produto encontrado."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(t=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 flex flex-col",children:[e.jsxs("div",{className:"p-5 grow",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2 truncate",title:t.nome,children:t.nome}),e.jsxs("p",{className:"text-xl font-bold text-blue-600 mb-4",children:["R$ ",t.preco.toFixed(2)]})]}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[e.jsx("button",{onClick:()=>l(t.id.toString()),className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Comprar"}),e.jsxs(u,{to:`/editar/produtos/${t.id}`,className:"inline-flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-800",title:"Editar Produto",children:[e.jsx(p,{size:20}),e.jsx("span",{children:"Editar"})]})]})]},t.id))})]})}export{b as default};
